"use strict";(self.webpackChunkmedicine_delivery_app=self.webpackChunkmedicine_delivery_app||[]).push([[559],{67:(n,e,r)=>{r.d(e,{$c:()=>m,CO:()=>x,X:()=>l,md:()=>p,pd:()=>h});var i,t,s,d,a,o=r(528),c=r(197);const l=c.Ay.form(i||(i=(0,o.A)(["\n width: 100%;\n position: relative;\n display: flex;\n align-items: center;\n gap: 14px;\n margin-bottom: 20px;\n flex-direction: column;\n @media screen and (min-width: 576px) {\n  gap: 10px;\n }\n @media screen and (min-width: 1200px) {\n  justify-content: space-between;\n  margin-bottom: 40px;\n  flex-direction: row;\n  gap: 24px;\n }\n"]))),p=c.Ay.img(t||(t=(0,o.A)(["\n position: absolute;\n top: 12px;\n left: 10px;\n @media screen and (min-width: 1200px) {\n  top: 33%;\n  left: 10px;\n }\n"]))),h=c.Ay.input(s||(s=(0,o.A)(["\n width: 100%;\n padding: 8px 8px 8px 40px;\n background-color: #f0eded;\n border: none;\n border-radius: 8px;\n @media screen and (min-width: 1200px) {\n  width: 420px;\n }\n"]))),x=c.Ay.div(d||(d=(0,o.A)(["\n display: flex;\n gap: 14px;\n @media screen and (min-width: 1200px) {\n  gap: 4px;\n }\n"]))),m=c.Ay.button(a||(a=(0,o.A)(["\n padding: 8px;\n border-radius: 8px;\n background-color: #f0eded;\n color: grey;\n &:hover,\n &:focus {\n  background-color: lightgrey;\n }\n"])))},559:(n,e,r)=>{r.r(e),r.d(e,{default:()=>f});var i,t,s,d,a=r(43),o=r(809),c=r(146),l=r(319),p=r(528),h=r(197),x=r(67);const m=h.Ay.div(i||(i=(0,p.A)(["\n width: 100%;\n min-height: 88vh;\n padding-bottom: 8px;\n display: flex;\n justify-content: center;\n"]))),u=h.Ay.div(t||(t=(0,p.A)(["\n position: relative;\n display: flex;\n justify-content: center;\n align-items: center;\n text-align: center;\n"]))),y=(0,h.Ay)(x.md)(s||(s=(0,p.A)(["\n position: absolute;\n top: auto;\n ","\n"])),""),j=(0,h.Ay)(x.pd)(d||(d=(0,p.A)(["\n width: 450px;\n"])));var g=r(579);const f=()=>{const[n,e]=(0,a.useState)([]),[r,i]=(0,a.useState)(""),[t,s]=(0,a.useState)([]),[d,p]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{const n=await(0,o.W)();e(n)}catch(n){console.error("Error fetching orders:",n)}})()}),[]);return(0,g.jsxs)(m,{children:[(0,g.jsx)("h1",{hidden:!0,children:"Order history"}),(0,g.jsxs)("section",{children:[(0,g.jsxs)(u,{children:[(0,g.jsx)(y,{src:l,alt:"search",width:20}),(0,g.jsx)(j,{name:"search",type:"text",placeholder:"Enter email, phone number, or order ID",value:r,onChange:n=>{i(n.target.value)},onClick:async()=>{const e=r.toLowerCase().trim();if(e){p(!0);try{const r=n.filter((n=>n.email.toLowerCase().includes(e)||n.phone.includes(e)||n.id===e));s(r)}catch(i){console.error("Error searching orders:",i)}finally{p(!1)}}else s([])}})]}),d?(0,g.jsx)(c.A,{}):t.length>0?(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{children:"Search Results:"}),(0,g.jsx)("ul",{children:t.map((n=>(0,g.jsxs)("li",{children:[(0,g.jsxs)("h3",{children:["Order #",n.order]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h4",{children:"User information:"}),(0,g.jsx)("p",{children:n.name}),(0,g.jsx)("p",{children:n.email}),(0,g.jsx)("p",{children:n.phone})]}),(0,g.jsx)("div",{children:(0,g.jsx)("ul",{children:n.drugslist.map((n=>(0,g.jsxs)("li",{children:[(0,g.jsxs)("h5",{children:["Shop: ",n.shop]}),(0,g.jsxs)("ul",{children:["Order:",n.orderlist.map((n=>(0,g.jsxs)("li",{children:[(0,g.jsx)("img",{src:n.photo,alt:n.name,loading:"lazy"}),(0,g.jsx)("h6",{children:n.name}),(0,g.jsxs)("p",{children:["Price: ",(0,g.jsx)("span",{children:n.totalByDrug})]})]},n.id))),(0,g.jsxs)("p",{children:["Total by shop: ",(0,g.jsx)("span",{children:n.totalPriceByShop})]})]})]},n.id)))})}),(0,g.jsxs)("p",{children:["Total: ",(0,g.jsx)("span",{children:n.total})]})]},n.id)))})]}):(0,g.jsx)("h2",{children:"No search results found."})]})]})}},809:(n,e,r)=>{r.d(e,{T:()=>s,W:()=>t});const i=r(154).A.create({baseURL:"https://medicine-delivery-app-backend-9d0u.onrender.com/api"}),t=async()=>{try{const{data:n}=await i.get("/orders");return n}catch(n){throw console.error("Error adding order:",n),n}},s=async n=>{try{const{data:e}=await i.post("/orders",n);return e}catch(e){throw console.error("Error adding order:",e),e}}},319:(n,e,r)=>{n.exports=r.p+"static/media/search.3a608aca6f4d314714c4.png"}}]);
//# sourceMappingURL=559.51618816.chunk.js.map