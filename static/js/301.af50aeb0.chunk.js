"use strict";(self.webpackChunkmedicine_delivery_app=self.webpackChunkmedicine_delivery_app||[]).push([[301],{301:(e,r,s)=>{s.r(r),s.d(r,{default:()=>l});var n=s(43),i=s(3),d=s(529),t=s(809),c=s(579);const l=()=>{const[e,r]=(0,n.useState)([]),[s,l]=(0,n.useState)(""),[o,a]=(0,n.useState)([]),h=(0,i.d4)(d.AQ);(0,n.useEffect)((()=>{(async()=>{try{const e=await(0,t.W)();r(e)}catch(e){console.error("Error fetching orders:",e)}})()}),[]);const p=e=>{const r=h.find((r=>r.id===e));return console.log(h),r};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{hidden:!0,children:"Order history"}),(0,c.jsxs)("section",{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{type:"text",placeholder:"Enter email, phone number, or order ID",value:s,onChange:e=>{l(e.target.value)}}),(0,c.jsx)("button",{onClick:()=>{const r=s.toLowerCase().trim();if(!r)return void a([]);const n=e.filter((e=>e.email.toLowerCase().includes(r)||e.phone.includes(r)||e.id===r));a(n)},children:"Search"})]}),o.length>0?(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"Search Results:"}),(0,c.jsx)("ul",{children:o.map((e=>(0,c.jsxs)("li",{children:[(0,c.jsxs)("h3",{children:["Order #",e.order]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{children:"User information:"}),(0,c.jsx)("p",{children:e.name}),(0,c.jsx)("p",{children:e.email}),(0,c.jsx)("p",{children:e.phone})]}),(0,c.jsx)("div",{children:(0,c.jsx)("ul",{children:e.drugslist.map((e=>(0,c.jsxs)("li",{children:[(0,c.jsxs)("h5",{children:["Shop: ",e.shop]}),(0,c.jsxs)("ul",{children:["Order:",e.orderlist.map((e=>(0,c.jsxs)("li",{children:[(0,c.jsx)("img",{src:p(e.id),alt:e.name,loading:"lazy"}),(0,c.jsx)("h6",{children:e.name}),(0,c.jsxs)("p",{children:["Price: ",(0,c.jsx)("span",{children:e.totalByDrug})]})]},e.id))),(0,c.jsxs)("p",{children:["Total by shop: ",(0,c.jsx)("span",{children:e.totalPriceByShop})]})]})]},e.id)))})}),(0,c.jsxs)("p",{children:["Total: ",(0,c.jsx)("span",{children:e.total})]})]},e.id)))})]}):(0,c.jsx)("h2",{children:"No search results found."})]})]})}},529:(e,r,s)=>{s.d(r,{AQ:()=>i,KM:()=>n,NE:()=>d});const n=e=>e.shops.items,i=e=>e.shops.drugsList,d=e=>{let{shops:r}=e;return r.loading}},809:(e,r,s)=>{s.d(r,{T:()=>d,W:()=>i});const n=s(154).A.create({baseURL:"https://medicine-delivery-app-backend-9d0u.onrender.com/api"}),i=async()=>{try{const{data:e}=await n.get("/orders");return e}catch(e){throw console.error("Error adding order:",e),e}},d=async e=>{try{const{data:r}=await n.post("/orders",e);return r}catch(r){throw console.error("Error adding order:",r),r}}}}]);
//# sourceMappingURL=301.af50aeb0.chunk.js.map